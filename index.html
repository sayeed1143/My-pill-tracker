<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üíä Daily Med Tracker</title>
  <meta name="description" content="Track multiple medications daily, view progress, and get smart reminders.">
  <meta property="og:title" content="Daily Med Tracker">
  <meta property="og:description" content="Free tool to track multiple medications, get reminders, and view your progress">
  <meta property="og:image" content="https://your-site.com/preview.png">
  <meta property="og:url" content="https://your-site.com">
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2936/2936905.png" type="image/png">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
    }
    h1 { font-size: 1.8rem; margin-bottom: 0.5rem; text-align: center; }
    #date { margin-bottom: 1rem; font-weight: bold; }
    .med-entry { margin: 10px 0; display: flex; gap: 10px; }
    input[type="text"] { padding: 8px; width: 150px; }
    .taken-btn {
      background: #ff5252;
      color: white;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 5px;
    }
    .taken-btn.taken { background: #4CAF50; }
    #graph { width: 100%; max-width: 500px; margin-top: 2rem; }
    .footer { margin-top: 3rem; font-size: 0.85rem; color: #777; text-align: center; }
    .disclaimer { font-size: 0.75rem; color: #999; margin-top: 1rem; }
  </style>
</head>
<body>
  <h1>üíä Daily Med Tracker</h1>
  <div id="date"></div>
  <div id="med-list"></div>
  <div class="med-entry">
    <input type="text" id="new-med" placeholder="Add Medication...">
    <button onclick="addMed()">Add</button>
  </div>
  <canvas id="graph"></canvas>

  <div class="disclaimer">
    ‚ö†Ô∏è This tool is for **personal wellness tracking only** and does not replace medical advice.
  </div>

  <div class="footer">
    Free to use ‚Ä¢ No login ‚Ä¢ Works offline<br>
    Built for those who care ‚ù§Ô∏è
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const medList = document.getElementById("med-list");
    const dateElem = document.getElementById("date");
    const today = new Date().toDateString();
    dateElem.textContent = `Today: ${today}`;

    let meds = JSON.parse(localStorage.getItem("medications")) || [];
    let taken = JSON.parse(localStorage.getItem("takenStatus")) || {};

    function renderMeds() {
      medList.innerHTML = "";
      meds.forEach((med, index) => {
        const isTaken = taken[today]?.includes(med);
        const div = document.createElement("div");
        div.className = "med-entry";
        div.innerHTML = `
          <span>${med}</span>
          <button class="taken-btn ${isTaken ? 'taken' : ''}" onclick="toggleTaken('${med}')">
            ${isTaken ? 'Taken' : 'Mark Taken'}
          </button>
        `;
        medList.appendChild(div);
      });
    }

    function addMed() {
      const input = document.getElementById("new-med");
      const val = input.value.trim();
      if (val && !meds.includes(val)) {
        meds.push(val);
        localStorage.setItem("medications", JSON.stringify(meds));
        renderMeds();
      }
      input.value = "";
    }

    function toggleTaken(med) {
      if (!taken[today]) taken[today] = [];
      const idx = taken[today].indexOf(med);
      if (idx > -1) taken[today].splice(idx, 1);
      else taken[today].push(med);
      localStorage.setItem("takenStatus", JSON.stringify(taken));
      renderMeds();
      drawGraph();
    }

    function drawGraph() {
      const dates = Object.keys(taken).slice(-7);
      const values = dates.map(date => taken[date]?.length || 0);
      const ctx = document.getElementById('graph').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: dates,
          datasets: [{
            label: 'Meds Taken',
            data: values,
            fill: false,
            borderColor: 'blue'
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true, ticks: { precision: 0 } }
          }
        }
      });
    }

    renderMeds();
    drawGraph();
  </script>
</body>
</html>
